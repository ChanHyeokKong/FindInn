<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/layout}"
      lang="ko">

<th:block layout:fragment="head">
  <!-- Font Awesome (ì‚¬ìš© ì‹œ) -->
  <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
        crossorigin="anonymous" referrerpolicy="no-referrer">

  <style>
    /* ===== BRAND TOKENS ===== */
    :root{
      --bg:#fdfefe; --card:#ffffff; --ink:#0f172a; --muted:#667085;
      --shadow:0 16px 40px rgba(15,23,42,.08); --r:20px;

      --brand:#1b6eea;      /* ë¸”ë£¨ */
      --accent:#1fd6b6;     /* ë¯¼íŠ¸ */
      --cta:#ff4d57;        /* í¬ì¸íŠ¸ ë ˆë“œ */

      --grad-1:#eaf5ff;     /* í•˜ëŠ˜ */
      --grad-2:#ffffff;

      --btn-shadow:0 10px 18px rgba(255,77,87,.22);
      --badge-bg: var(--cta); --badge-ink:#fff;

      --pill-bg:#f0f7ff; --pill-ink:#2a60ff;
      --bignum-border:#cfe6ff;
    }

    /* ëª¨ì…˜ ìµœì†Œí™” ì§€ì› */
    @media (prefers-reduced-motion: reduce){
      *{ animation: none !important; transition: none !important; }
    }

    body{
      margin:0; font-family:var(--font-family-base, ui-sans-serif, -apple-system, Segoe UI, Roboto, 'Noto Sans KR', sans-serif);
      color:var(--ink); background:var(--bg); font-size:var(--font-size-base, 16px);
    }
    .wrap{ max-width:1040px; margin:28px auto; padding:0 16px; }

    /* ===== HERO ===== */
    .hero{
      border-radius:28px; box-shadow:var(--shadow);
      background:linear-gradient(120deg, var(--grad-1), var(--grad-2));
      padding:26px 22px; display:flex; align-items:center; justify-content:space-between; gap:16px;
    }
    .ribbon{
      display:inline-block; background:var(--badge-bg); color:var(--badge-ink);
      border-radius:999px; padding:8px 14px; font-weight:900; font-size:12px;
    }
    .hero-title{ margin:10px 0 6px; font-size:28px; line-height:1.1; letter-spacing:-.4px; font-weight:900; }
    .hero-title span{ color:var(--cta); }
    .hero-foot{ color:var(--muted); font-size:11px; }
    .count{ font-size:12px; color:var(--cta); font-weight:800; margin-top:6px; }

    .btn{
      border:0; padding:12px 18px; border-radius:14px; font-weight:900; cursor:pointer; font-size:var(--font-size-sm, 14px);
      display:inline-flex; align-items:center; gap:6px;
    }
    .btn-primary{ background:var(--cta); color:#fff; box-shadow:var(--btn-shadow); }
    .btn[disabled]{ background:#e5e7eb; color:#94a3b8; cursor:not-allowed; }

    /* ===== COUPON BANNER ===== */
    .banner{
      display:grid; grid-template-columns:140px 1fr auto; gap:18px;
      background:var(--card); border-radius:24px; box-shadow:var(--shadow);
      padding:20px 22px; margin-top:16px; align-items:center;
    }
    /* âœ… ìˆ«ì: ë” ìŠ¬ë¦¼(700) + ìˆ˜ì§ ê·¸ë¼ë°ì´ì…˜ ë” ë˜ë ·í•˜ê²Œ */
    .bignum{
      width:140px; height:86px; border:2px dashed var(--bignum-border); border-radius:16px; background:#fff;
      display:flex; align-items:center; justify-content:center; font-weight:700; font-size:38px; letter-spacing:-.8px;
      background-clip:text; -webkit-background-clip:text; color:transparent;
      /* ë” ë˜ë ·í•œ ìˆ˜ì§ ê·¸ë¼ë°ì´ì…˜ */
      background-image:linear-gradient(180deg,#7fb1ff 0%, #2f6bff 55%, #123bff 100%);
      text-shadow:0 1px 0 rgba(0,0,0,.06), 0 8px 20px rgba(27,110,234,.08);
      line-height:1;
    }
    .bignum--won{ font-size:28px; letter-spacing:-.4px; padding:0 6px; }

    .line1{ font-weight:900; font-size:16px; color:var(--ink); }
    .line2,.line3{ color:var(--muted); font-size:12px; line-height:1.45; margin-top:3px; }
    .sep{ height:1px; background:linear-gradient(90deg,transparent,#e6e9ef,transparent); margin:22px 0; }

    /* ===== HOTEL ===== */
    .hotel{
      display:flex; gap:18px; align-items:center; background:#f9fdff; border-radius:24px; box-shadow:var(--shadow);
      padding:18px; margin-top:16px;
    }
    .hotel img{ width:48%; max-height:240px; object-fit:cover; border-radius:16px; }
    .hotel .info{ flex:1; }
    .pill{
      display:inline-flex; align-items:center; gap:6px; background:var(--pill-bg); color:var(--pill-ink);
      padding:6px 10px; border-radius:999px; font-weight:800; font-size:11px;
    }
    .hotel-title{ margin:8px 0 4px; font-size:18px; font-weight:900; }
    .hotel-desc{ margin:0; color:var(--muted); font-size:12px; line-height:1.4; }

    /* ===== MOBILE ===== */
    @media (max-width: 820px){
      .banner{ grid-template-columns:110px 1fr; gap:12px; padding:16px 16px; }
      .bignum{ width:110px; height:72px; font-size:32px; }
      .line1{ font-size:15px; }
      .line2, .line3{ font-size:11px; }
      .hero{ flex-direction:column; align-items:flex-start; gap:12px; }
    }
  </style>
</th:block>

<div layout:fragment="content">
  <div class="wrap">
    <!-- ===== HERO ===== -->
    <section class="hero" aria-labelledby="heroTitle">
      <div>
        <span class="ribbon">8ì›”ê¹Œì§€ ì­‰ ìˆ™ì†Œ ìµœëŒ€í• ì¸! âœˆï¸</span>
        <h1 id="heroTitle" class="hero-title">ìˆ™ì†Œ <span>ìµœëŒ€ 10%</span> ì¿ í°íŒ© ğŸ–ï¸</h1>
        <div class="hero-foot">ì¿ í° í˜œíƒì€ ìˆ™ì†Œ/ì²´í¬ì¸ ê¸°ê°„/ì ìš© ì‹œì ì— ë”°ë¼ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</div>
        <div class="count" th:text="'í˜„ì¬ ë°œê¸‰ : ' + (${issuedCount}?:0) + ' / ' + (${packSize}?:3)">í˜„ì¬ ë°œê¸‰ : 0 / 3</div>
      </div>

      <!-- íŒ© ì¼ê´„ ë°œê¸‰ -->
      <form th:action="@{/event/coupon/issue-pack}" method="post" aria-label="ì¿ í°íŒ© ì¼ê´„ ë°œê¸‰">
        <div th:if="${_csrf} != null">
          <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
        </div>
        <button class="btn btn-primary" type="submit"
                th:disabled="${(issuedCount ?: 0) >= (packSize ?: 3)}"
                aria-disabled="${(issuedCount ?: 0) >= (packSize ?: 3)}"
                th:aria-label="${(issuedCount ?: 0) >= (packSize ?: 3)} ? 'ë°œê¸‰ ë§ˆê°' : 'ì¿ í°íŒ© ë‹¤ìš´ë°›ê¸°'">
          <i class="fa-solid fa-gift" aria-hidden="true"></i> ì¿ í°íŒ© ë‹¤ìš´ë°›ê¸°
        </button>
      </form>
    </section>

    <!-- ===== 7% ===== -->
    <article class="banner" aria-labelledby="coupon7Title">
      <div class="bignum" aria-hidden="true">7%</div>
      <div>
        <div id="coupon7Title" class="line1">ìˆ™ì†Œ 7% í• ì¸ ğŸ‰</div>
        <div class="line2">8ë§Œì› ì´ìƒ Â· ìµœëŒ€ 20,000ì›</div>
        <div class="line3">ì‚¬ìš©ê¸°ê°„: ë°œê¸‰ì¼ë¡œë¶€í„° 10ì¼ (8/31 ë§Œë£Œ)</div>
      </div>
      <form th:action="@{/event/coupon/issue-by-code}" method="post" aria-label="7% ì¿ í° ë°œê¸‰">
        <input type="hidden" name="code" value="AUG_7P"/>
        <div th:if="${_csrf} != null">
          <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
        </div>
        <button class="btn btn-primary" type="submit"
                th:disabled="${has7 or ((issuedCount ?: 0) >= (packSize ?: 3))}"
                th:text="${has7} ? 'ë°œê¸‰ ì™„ë£Œ âœ…'
                         : (((issuedCount ?: 0) >= (packSize ?: 3)) ? 'ë°œê¸‰ ë§ˆê°' : 'ë°œê¸‰ë°›ê¸°')"
                th:aria-label="${has7} ? 'ì´ë¯¸ ë°œê¸‰ë¨' : (((issuedCount ?: 0) >= (packSize ?: 3)) ? 'ë°œê¸‰ ë§ˆê°' : '7% ì¿ í° ë°œê¸‰ë°›ê¸°')">
          ë°œê¸‰ë°›ê¸°
        </button>
      </form>
    </article>

    <!-- ===== 10% ===== -->
    <article class="banner" aria-labelledby="coupon10Title">
      <div class="bignum" aria-hidden="true">10%</div>
      <div>
        <div id="coupon10Title" class="line1">ìˆ™ì†Œ 10% í• ì¸ ğŸš€</div>
        <div class="line2">12ë§Œì› ì´ìƒ Â· ìµœëŒ€ 40,000ì›</div>
        <div class="line3">ì‚¬ìš©ê¸°ê°„: ë°œê¸‰ì¼ë¡œë¶€í„° 10ì¼ (8/31 ë§Œë£Œ)</div>
      </div>
      <form th:action="@{/event/coupon/issue-by-code}" method="post" aria-label="10% ì¿ í° ë°œê¸‰">
        <input type="hidden" name="code" value="AUG_10P"/>
        <div th:if="${_csrf} != null">
          <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
        </div>
        <button class="btn btn-primary" type="submit"
                th:disabled="${has10 or ((issuedCount ?: 0) >= (packSize ?: 3))}"
                th:text="${has10} ? 'ë°œê¸‰ ì™„ë£Œ âœ…'
                         : (((issuedCount ?: 0) >= (packSize ?: 3)) ? 'ë°œê¸‰ ë§ˆê°' : 'ë°œê¸‰ë°›ê¸°')"
                th:aria-label="${has10} ? 'ì´ë¯¸ ë°œê¸‰ë¨' : (((issuedCount ?: 0) >= (packSize ?: 3)) ? 'ë°œê¸‰ ë§ˆê°' : '10% ì¿ í° ë°œê¸‰ë°›ê¸°')">
          ë°œê¸‰ë°›ê¸°
        </button>
      </form>
    </article>

    <!-- ===== 5,000ì› (AUG_5K ê·¸ëŒ€ë¡œ ìœ ì§€) ===== -->
    <article class="banner" aria-labelledby="coupon5kTitle">
      <div class="bignum bignum--won" aria-hidden="true">â‚©5,000</div>
      <div>
        <div id="coupon5kTitle" class="line1">ìˆ™ì†Œ 5,000ì› í• ì¸</div>
        <div class="line2">5ë§Œì› ì´ìƒ Â· ìµœëŒ€ 5,000ì›</div>
        <div class="line3">ì‚¬ìš©ê¸°ê°„: ë°œê¸‰ì¼ë¡œë¶€í„° 10ì¼ (8/31 ë§Œë£Œ)</div>
      </div>
      <form th:action="@{/event/coupon/issue-by-code}" method="post" aria-label="5,000ì› ì¿ í° ë°œê¸‰">
        <input type="hidden" name="code" value="AUG_5K"/>
        <div th:if="${_csrf} != null">
          <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
        </div>
        <button class="btn btn-primary" type="submit"
                th:disabled="${has5k or ((issuedCount ?: 0) >= (packSize ?: 3))}"
                th:text="${has5k} ? 'ë°œê¸‰ ì™„ë£Œ âœ…'
                         : (((issuedCount ?: 0) >= (packSize ?: 3)) ? 'ë°œê¸‰ ë§ˆê°' : 'ë°œê¸‰ë°›ê¸°')"
                th:aria-label="${has5k} ? 'ì´ë¯¸ ë°œê¸‰ë¨' : (((issuedCount ?: 0) >= (packSize ?: 3)) ? 'ë°œê¸‰ ë§ˆê°' : '5,000ì› ì¿ í° ë°œê¸‰ë°›ê¸°')">
          ë°œê¸‰ë°›ê¸°
        </button>
      </form>
    </article>

    <div class="sep" role="separator" aria-hidden="true"></div>

    <!-- ===== ì¶”ì²œ ìˆ™ì†Œ ===== -->
    <article class="hotel" aria-labelledby="hotelTitle">
      <img src="/image/KakaoTalk_20250801_104804478.webp"
           alt="ì¶”ì²œ ìˆ™ì†Œ ì™¸ê´€ ì´ë¯¸ì§€" loading="lazy" decoding="async" width="640" height="360">
      <div class="info">
        <div class="pill"><i class="fa-solid fa-star" aria-hidden="true"></i>ì¶”ì²œ ìˆ™ì†Œ</div>
        <h3 id="hotelTitle" class="hotel-title">ì„œìš¸ ê°•ë‚¨ í”„ë¦¬ë¯¸ì—„ í˜¸í…”</h3>
        <p class="hotel-desc">
          ê°•ë‚¨ì—­ ë„ë³´ 5ë¶„, ë¹„ì¦ˆë‹ˆìŠ¤ ì—¬í–‰ê°ì—ê²Œ ìµœì í™”ëœ í”„ë¦¬ë¯¸ì—„ í˜¸í…”ì…ë‹ˆë‹¤.<br>
          ìµœì‹  ì‹œì„¤ê³¼ í¸ë¦¬í•œ ì ‘ê·¼ì„±ìœ¼ë¡œ ë§Œì¡±ë„ ë†’ì€ ìˆ™ë°• ê²½í—˜ì„ ì œê³µí•©ë‹ˆë‹¤.
        </p>
      </div>
    </article>

    <!-- í”Œë˜ì‹œ ë©”ì‹œì§€(ì„œë²„ì—ì„œ ra.addFlashAttribute ë¡œ ì „ë‹¬) -->
    <p class="hotel-desc" th:if="${toast}" th:text="${toast}" style="margin-top:12px; text-align:center;"></p>
  </div>
</div>
</html>
